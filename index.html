<!doctype html>
<html lang="he" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/x-icon" href="/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>הקלות והטבות בעקבות מבצע עם כלביא</title>
    
    <!-- Google Fonts - Rubik -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@400;500;700&display=swap" rel="stylesheet">
    
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              'sans': ['Rubik', 'system-ui', 'sans-serif']
            },
            colors: {
              'calm-blue': '#0F766E',
              'calm-green': '#10B981',
              'calm-purple': '#8B5CF6',
              'calm-orange': '#F59E0B',
              'calm-red': '#EF4444',
              'calm-gray': '#6B7280'
            }
          }
        }
      }
    </script>
    <style>
      * {
        -webkit-tap-highlight-color: transparent;
        box-sizing: border-box;
      }
      
      body {
        direction: rtl;
        font-family: 'Rubik', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        background: #F8FAFC;
        color: #334155;
        margin: 0;
        padding: 0;
        line-height: 1.6;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
      }
      
      .clean-card {
        background: white;
        border: 2px solid #E5E7EB;
        border-radius: 16px;
        transition: all 0.3s ease;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
        overflow: hidden;
      }
      
      .clean-card:hover {
        border-color: #10B981;
        box-shadow: 0 12px 32px rgba(16, 185, 129, 0.12);
        transform: translateY(-4px);
      }
      
      .clean-btn {
        border: 2px solid transparent;
        border-radius: 12px;
        padding: 0.875rem 1.5rem;
        font-weight: 600;
        transition: all 0.3s ease;
        text-decoration: none;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        min-height: 48px;
        cursor: pointer;
        touch-action: manipulation;
        user-select: none;
      }
      
      .clean-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
      }
      
      .category-btn {
        background: white;
        border: 2px solid #E5E7EB;
        border-radius: 20px;
        padding: 1rem;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        text-align: center;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        cursor: pointer;
        touch-action: manipulation;
        position: relative;
        overflow: hidden;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
      }
      
      .category-btn:before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(135deg, #10B981, #059669);
        opacity: 0;
        transition: opacity 0.3s ease;
        z-index: 0;
      }
      
      .category-btn:hover:before {
        opacity: 0.1;
      }
      
      .category-btn.active:before {
        opacity: 1;
      }
      
      .category-btn:hover {
        transform: translateY(-3px) scale(1.02);
        box-shadow: 0 12px 32px rgba(16, 185, 129, 0.2);
        border-color: #10B981;
      }
      
      .category-btn.active {
        color: white;
        border-color: #059669;
        box-shadow: 0 12px 32px rgba(16, 185, 129, 0.3);
        transform: translateY(-2px);
      }
      
      .category-btn > * {
        position: relative;
        z-index: 1;
      }
      
      .calm-loading {
        animation: spin 1s linear infinite;
      }
      
      .pulse-heartbeat {
        animation: pulse-heartbeat 2s ease-in-out infinite;
      }
      
      /* Mobile-First Responsive Design */
      
      /* Mobile Styles (Default) */
      .mobile-container {
        max-width: 100%;
        margin: 0 auto;
        padding: 0;
      }
      
      .mobile-header {
        background: linear-gradient(135deg, #FFFFFF 0%, #F8FAFC 100%);
        border-bottom: 2px solid #E5E7EB;
        padding: 1.5rem 1rem;
        box-shadow: 0 2px 16px rgba(0, 0, 0, 0.06);
      }
      
      .mobile-header h1 {
        font-size: 1.75rem;
        font-weight: 700;
        color: #1F2937;
        margin: 0 0 0.5rem 0;
        line-height: 1.2;
        text-align: center;
      }
      
      .mobile-header p {
        font-size: 1rem;
        color: #6B7280;
        margin: 0;
        text-align: center;
        opacity: 0.9;
      }
      
      .mobile-search {
        padding: 1rem;
        background: white;
        margin-bottom: 1rem;
      }
      
             .mobile-search input {
         width: 100%;
         height: 56px;
         padding: 0 3.5rem 0 3.5rem;
         border: 2px solid #E5E7EB;
         border-radius: 16px;
         font-size: 16px;
         background: #FAFAFA;
         transition: all 0.3s ease;
       }
      
      .mobile-search input:focus {
        outline: none;
        border-color: #10B981;
        background: white;
        box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.1);
      }
      
      .mobile-categories {
        padding: 0 1rem 1.5rem 1rem;
      }
      
      .mobile-categories h2 {
        font-size: 1.25rem;
        font-weight: 600;
        color: #1F2937;
        margin: 0 0 1rem 0;
        text-align: center;
      }
      
             .categories-grid {
         display: grid;
         grid-template-columns: repeat(2, 1fr);
         gap: 0.5rem;
       }
      
             .category-btn {
         min-height: 60px;
         aspect-ratio: auto;
         padding: 0.75rem 0.5rem;
         font-size: 0.75rem;
         font-weight: 600;
         flex-direction: row;
         gap: 0.5rem;
       }
       
       .category-icon {
         width: 20px !important;
         height: 20px !important;
         margin-bottom: 0;
         flex-shrink: 0;
       }
      
      .mobile-results {
        padding: 0 1rem;
      }
      
      .mobile-results-header {
        background: white;
        border: 2px solid #E5E7EB;
        border-radius: 16px;
        padding: 1rem;
        margin-bottom: 1.5rem;
        display: flex;
        flex-direction: column;
        gap: 0.75rem;
      }
      
      .mobile-results-title {
        font-size: 1.125rem;
        font-weight: 600;
        color: #1F2937;
        margin: 0;
      }
      
      .mobile-results-count {
        background: linear-gradient(135deg, #10B981, #059669);
        color: white;
        padding: 0.5rem 1rem;
        border-radius: 12px;
        font-weight: 600;
        font-size: 0.875rem;
        align-self: flex-end;
        min-width: fit-content;
      }
      
      .benefits-grid {
        display: grid;
        grid-template-columns: 1fr;
        gap: 1rem;
        margin-bottom: 2rem;
      }
      
      .benefit-card {
        padding: 1.5rem;
        border-radius: 16px;
      }
      
      .benefit-title {
        font-size: 1.125rem;
        font-weight: 600;
        color: #1F2937;
        margin: 0 0 0.75rem 0;
        line-height: 1.3;
      }
      
      .benefit-description {
        font-size: 0.875rem;
        color: #4B5563;
        line-height: 1.5;
        margin-bottom: 1rem;
      }
      
      .benefit-tags {
        display: flex;
        flex-wrap: wrap;
        gap: 0.5rem;
        margin-bottom: 1rem;
      }
      
      .benefit-tag {
        background: linear-gradient(135deg, #10B981, #059669);
        color: white;
        padding: 0.25rem 0.75rem;
        border-radius: 12px;
        font-size: 0.75rem;
        font-weight: 500;
      }
      
      .benefit-action {
        background: linear-gradient(135deg, #3B82F6, #2563EB);
        color: white;
        padding: 0.75rem 1.5rem;
        border-radius: 12px;
        border: none;
        font-weight: 600;
        font-size: 0.875rem;
        cursor: pointer;
        transition: all 0.3s ease;
        width: 100%;
      }
      
      .benefit-action:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 20px rgba(59, 130, 246, 0.3);
      }
      
      .mobile-fab {
        position: fixed;
        bottom: 1.5rem;
        right: 1.5rem;
        width: 56px;
        height: 56px;
        background: linear-gradient(135deg, #10B981, #059669);
        border-radius: 28px;
        border: none;
        color: white;
        font-size: 1.5rem;
        cursor: pointer;
        box-shadow: 0 8px 24px rgba(16, 185, 129, 0.4);
        z-index: 50;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.3s ease;
      }
      
      .mobile-fab:hover {
        transform: scale(1.1);
        box-shadow: 0 12px 32px rgba(16, 185, 129, 0.5);
      }
      
      .mobile-modal {
        position: fixed;
        inset: 0;
        background: rgba(0, 0, 0, 0.5);
        z-index: 60;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 1rem;
      }
      
      .mobile-modal-content {
        background: white;
        border-radius: 20px;
        width: 100%;
        max-width: 400px;
        max-height: 80vh;
        overflow: hidden;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      }
      
      .mobile-modal-header {
        background: linear-gradient(135deg, #F8FAFC, #E5E7EB);
        padding: 1.5rem;
        border-bottom: 2px solid #E5E7EB;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }
      
      .mobile-modal-title {
        font-size: 1.25rem;
        font-weight: 600;
        color: #1F2937;
        margin: 0;
      }
      
      .mobile-modal-close {
        width: 40px;
        height: 40px;
        border-radius: 20px;
        border: none;
        background: #F3F4F6;
        color: #6B7280;
        font-size: 1.5rem;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.2s ease;
      }
      
      .mobile-modal-close:hover {
        background: #E5E7EB;
        color: #374151;
      }
      
      .mobile-modal-body {
        padding: 1.5rem;
        overflow-y: auto;
        max-height: calc(80vh - 120px);
      }
      
      .mobile-empty {
        text-align: center;
        padding: 3rem 1rem;
        background: white;
        border: 2px solid #E5E7EB;
        border-radius: 16px;
        margin: 0 1rem;
      }
      
      .mobile-empty-icon {
        font-size: 3rem;
        margin-bottom: 1rem;
        opacity: 0.3;
      }
      
      .mobile-empty-title {
        font-size: 1.125rem;
        font-weight: 600;
        color: #1F2937;
        margin: 0 0 0.5rem 0;
      }
      
      .mobile-empty-text {
        font-size: 0.875rem;
        color: #6B7280;
        margin: 0;
      }
      
             /* Tablet Styles */
       @media (min-width: 768px) {
         .mobile-header {
           padding: 2rem;
         }
         
         .mobile-header h1 {
           font-size: 2.25rem;
         }
         
         .mobile-header p {
           font-size: 1.125rem;
         }
         
         .categories-grid {
           grid-template-columns: repeat(3, 1fr);
           gap: 1rem;
         }
         
         .category-btn {
           min-height: 70px;
           padding: 1rem;
           font-size: 0.875rem;
         }
         
         .category-icon {
           width: 24px !important;
           height: 24px !important;
           margin-bottom: 0;
         }
        
        .benefits-grid {
          grid-template-columns: repeat(2, 1fr);
          gap: 1.5rem;
        }
        
        .mobile-results-header {
          flex-direction: row;
          align-items: center;
          justify-content: space-between;
        }
        
        .mobile-results-count {
          align-self: auto;
        }
      }
      
      /* Desktop Styles */
      @media (min-width: 1024px) {
        .mobile-container {
          max-width: 1200px;
          padding: 0 2rem;
        }
        
        .mobile-header {
          padding: 3rem 2rem;
        }
        
        .mobile-header h1 {
          font-size: 3rem;
        }
        
        .mobile-header p {
          font-size: 1.25rem;
        }
        
                 .categories-grid {
           grid-template-columns: repeat(4, 1fr);
           gap: 1.5rem;
         }
         
         .category-btn {
           min-height: 80px;
           padding: 1.5rem;
           font-size: 1rem;
         }
         
         .category-icon {
           width: 28px !important;
           height: 28px !important;
           margin-bottom: 0;
         }
        
        .benefits-grid {
          grid-template-columns: repeat(3, 1fr);
          gap: 2rem;
        }
        
        .mobile-fab {
          width: 64px;
          height: 64px;
          bottom: 2rem;
          right: 2rem;
          border-radius: 32px;
        }
        
        .mobile-modal-content {
          max-width: 600px;
        }
      }
      
      @keyframes spin {
        from { transform: rotate(0deg); }
        to { transform: rotate(360deg); }
      }
      
      @keyframes pulse-heartbeat {
        0% {
          transform: scale(1);
          box-shadow: 0 0 0 0 rgba(16, 185, 129, 0.7);
        }
        50% {
          transform: scale(1.05);
          box-shadow: 0 0 0 10px rgba(16, 185, 129, 0);
        }
        100% {
          transform: scale(1);
          box-shadow: 0 0 0 0 rgba(16, 185, 129, 0);
        }
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">
      const { useState, useEffect } = React;
      
      // Function to get appropriate SVG icon for each category
      const getCategoryIcon = (categoryName) => {
        const name = categoryName.toLowerCase();
        
        // Specific category mapping to Lucide SVG icons
        if (name.includes('הכל')) {
          return React.createElement('svg', {
            xmlns: "http://www.w3.org/2000/svg",
            width: "24", height: "24", viewBox: "0 0 24 24",
            fill: "none", stroke: "currentColor", strokeWidth: "2",
            strokeLinecap: "round", strokeLinejoin: "round",
            className: "category-icon text-teal-600"
          }, React.createElement('rect', { width: "7", height: "7", x: "3", y: "3", rx: "1" }),
             React.createElement('rect', { width: "7", height: "7", x: "14", y: "3", rx: "1" }),
             React.createElement('rect', { width: "7", height: "7", x: "14", y: "14", rx: "1" }),
             React.createElement('rect', { width: "7", height: "7", x: "3", y: "14", rx: "1" }));
        }
        
        if (name.includes('זכויות')) {
          return React.createElement('svg', {
            xmlns: "http://www.w3.org/2000/svg",
            width: "24", height: "24", viewBox: "0 0 24 24",
            fill: "none", stroke: "currentColor", strokeWidth: "2",
            strokeLinecap: "round", strokeLinejoin: "round",
            className: "category-icon text-teal-600"
          }, React.createElement('path', { d: "m9 9 5-5v6.5l7 3-7 3V21Z" }),
             React.createElement('path', { d: "M2 9h3v12H2Z" }));
        }
        
        if (name.includes('מידע')) {
          return React.createElement('svg', {
            xmlns: "http://www.w3.org/2000/svg",
            width: "24", height: "24", viewBox: "0 0 24 24",
            fill: "none", stroke: "currentColor", strokeWidth: "2",
            strokeLinecap: "round", strokeLinejoin: "round",
            className: "category-icon text-teal-600"
          }, React.createElement('circle', { cx: "12", cy: "12", r: "10" }),
             React.createElement('path', { d: "m9 12 2 2 4-4" }));
        }
        
        if (name.includes('כניסה') || name.includes('יציאה') || name.includes('ישראל')) {
          return React.createElement('svg', {
            xmlns: "http://www.w3.org/2000/svg",
            width: "24", height: "24", viewBox: "0 0 24 24",
            fill: "none", stroke: "currentColor", strokeWidth: "2",
            strokeLinecap: "round", strokeLinejoin: "round",
            className: "w-8 h-8 text-teal-600 mb-2"
          }, React.createElement('path', { d: "M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-7 7h3l7-7 7 7h3Z" }));
        }
        
        if (name.includes('בנק')) {
          return React.createElement('svg', {
            xmlns: "http://www.w3.org/2000/svg",
            width: "24", height: "24", viewBox: "0 0 24 24",
            fill: "none", stroke: "currentColor", strokeWidth: "2",
            strokeLinecap: "round", strokeLinejoin: "round",
            className: "w-8 h-8 text-teal-600 mb-2"
          }, React.createElement('path', { d: "M8 21h8" }),
             React.createElement('path', { d: "M12 17v4" }),
             React.createElement('path', { d: "m2 4 20 0" }),
             React.createElement('path', { d: "M6 4v13" }),
             React.createElement('path', { d: "M10 4v13" }),
             React.createElement('path', { d: "M14 4v13" }),
             React.createElement('path', { d: "M18 4v13" }));
        }
        
        if (name.includes('תביעה')) {
          return React.createElement('svg', {
            xmlns: "http://www.w3.org/2000/svg",
            width: "24", height: "24", viewBox: "0 0 24 24",
            fill: "none", stroke: "currentColor", strokeWidth: "2",
            strokeLinecap: "round", strokeLinejoin: "round",
            className: "w-8 h-8 text-teal-600 mb-2"
          }, React.createElement('path', { d: "M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z" }),
             React.createElement('path', { d: "M14 2v4a2 2 0 0 0 2 2h4" }),
             React.createElement('path', { d: "M10 9H8" }),
             React.createElement('path', { d: "M16 13H8" }),
             React.createElement('path', { d: "M16 17H8" }));
        }
        
        if (name.includes('נפש')) {
          return React.createElement('svg', {
            xmlns: "http://www.w3.org/2000/svg",
            width: "24", height: "24", viewBox: "0 0 24 24",
            fill: "none", stroke: "currentColor", strokeWidth: "2",
            strokeLinecap: "round", strokeLinejoin: "round",
            className: "w-8 h-8 text-teal-600 mb-2"
          }, React.createElement('path', { d: "M7.9 20A9 9 0 1 0 4 16.1L2 22Z" }),
             React.createElement('path', { d: "M15.8 9.2a2.5 2.5 0 0 0-3.5 0l-.3.4-.35-.3a2.42 2.42 0 1 0-3.2 3.6l3.6 3.5 3.6-3.5a2.42 2.42 0 0 0-.2-3.7Z" }));
        }
        
        if (name.includes('קבלת קהל')) {
          return React.createElement('svg', {
            xmlns: "http://www.w3.org/2000/svg",
            width: "24", height: "24", viewBox: "0 0 24 24",
            fill: "none", stroke: "currentColor", strokeWidth: "2",
            strokeLinecap: "round", strokeLinejoin: "round",
            className: "w-8 h-8 text-teal-600 mb-2"
          }, React.createElement('path', { d: "M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2" }),
             React.createElement('circle', { cx: "9", cy: "7", r: "4" }),
             React.createElement('path', { d: "m22 21-3-3" }),
             React.createElement('path', { d: "m17 14 3 3" }));
        }
        
        if (name.includes('עבודה')) {
          return React.createElement('svg', {
            xmlns: "http://www.w3.org/2000/svg",
            width: "24", height: "24", viewBox: "0 0 24 24",
            fill: "none", stroke: "currentColor", strokeWidth: "2",
            strokeLinecap: "round", strokeLinejoin: "round",
            className: "w-8 h-8 text-teal-600 mb-2"
          }, React.createElement('path', { d: "M12 12h.01" }),
             React.createElement('path', { d: "M16 6V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v2" }),
             React.createElement('path', { d: "M22 13a18.15 18.15 0 0 1-20 0" }),
             React.createElement('rect', { width: "20", height: "14", x: "2", y: "6", rx: "2" }));
        }
        
        if (name.includes('עזרה הדדית')) {
          return React.createElement('svg', {
            xmlns: "http://www.w3.org/2000/svg",
            width: "24", height: "24", viewBox: "0 0 24 24",
            fill: "none", stroke: "currentColor", strokeWidth: "2",
            strokeLinecap: "round", strokeLinejoin: "round",
            className: "w-8 h-8 text-teal-600 mb-2"
          }, React.createElement('path', { d: "M11 15h2a2 2 0 1 0 0-4h-3c-.6 0-1.1.2-1.4.6L3 17" }),
             React.createElement('path', { d: "m7 21 1.6-1.4c.3-.4.8-.6 1.4-.6h4c1.1 0 2.1-.4 2.8-1.2l4.6-4.4a2 2 0 0 0-2.75-2.91l-4.2 3.9" }),
             React.createElement('path', { d: "m2 16 6 6" }),
             React.createElement('circle', { cx: "16", cy: "9", r: "2.9" }),
             React.createElement('circle', { cx: "6", cy: "5", r: "3" }));
        }
        
        if (name.includes('מילואים') || name.includes('משרת')) {
          return React.createElement('svg', {
            xmlns: "http://www.w3.org/2000/svg",
            width: "24", height: "24", viewBox: "0 0 24 24",
            fill: "none", stroke: "currentColor", strokeWidth: "2",
            strokeLinecap: "round", strokeLinejoin: "round",
            className: "category-icon text-teal-600"
          }, React.createElement('path', { d: "M12 2L2 7l10 5 10-5-10-5z" }),
             React.createElement('path', { d: "m2 17 10 5 10-5" }),
             React.createElement('path', { d: "m2 12 10 5 10-5" }),
             React.createElement('circle', { cx: "12", cy: "12", r: "2" }));
        }
        
        if (name.includes('חינמי')) {
          return React.createElement('svg', {
            xmlns: "http://www.w3.org/2000/svg",
            width: "24", height: "24", viewBox: "0 0 24 24",
            fill: "none", stroke: "currentColor", strokeWidth: "2",
            strokeLinecap: "round", strokeLinejoin: "round",
            className: "w-8 h-8 text-teal-600 mb-2"
          }, React.createElement('path', { d: "m9 12 2 2 4-4" }),
             React.createElement('path', { d: "M21 5H3l2-2h14l2 2" }),
             React.createElement('path', { d: "m21 5-1 12.5a2 2 0 0 1-2 1.9H6a2 2 0 0 1-2-1.9L3 5" }));
        }
        
        if (name.includes('רפואי')) {
          return React.createElement('svg', {
            xmlns: "http://www.w3.org/2000/svg",
            width: "24", height: "24", viewBox: "0 0 24 24",
            fill: "none", stroke: "currentColor", strokeWidth: "2",
            strokeLinecap: "round", strokeLinejoin: "round",
            className: "w-8 h-8 text-teal-600 mb-2"
          }, React.createElement('path', { d: "M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.29 1.51 4.04 3 5.5Z" }),
             React.createElement('path', { d: "M12 5L8 21l4-7 4 7-4-16" }));
        }
        
        if (name.includes('מס')) {
          return React.createElement('svg', {
            xmlns: "http://www.w3.org/2000/svg",
            width: "24", height: "24", viewBox: "0 0 24 24",
            fill: "none", stroke: "currentColor", strokeWidth: "2",
            strokeLinecap: "round", strokeLinejoin: "round",
            className: "w-8 h-8 text-teal-600 mb-2"
          }, React.createElement('path', { d: "M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z" }),
             React.createElement('path', { d: "M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8" }),
             React.createElement('path', { d: "M12 17.5v-11" }));
        }
        
        if (name.includes('הלוואות')) {
          return React.createElement('svg', {
            xmlns: "http://www.w3.org/2000/svg",
            width: "24", height: "24", viewBox: "0 0 24 24",
            fill: "none", stroke: "currentColor", strokeWidth: "2",
            strokeLinecap: "round", strokeLinejoin: "round",
            className: "w-8 h-8 text-teal-600 mb-2"
          }, React.createElement('path', { d: "M15 14a5 5 0 0 0 6-5 6.5 6.5 0 0 1-7 5 5 5 0 0 0-6-5 6.5 6.5 0 0 1 7 5Z" }),
             React.createElement('path', { d: "M9 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v4" }),
             React.createElement('path', { d: "M8 7h8" }),
             React.createElement('path', { d: "M8 11h8" }));
        }
        
        if (name.includes('משפטי')) {
          return React.createElement('svg', {
            xmlns: "http://www.w3.org/2000/svg",
            width: "24", height: "24", viewBox: "0 0 24 24",
            fill: "none", stroke: "currentColor", strokeWidth: "2",
            strokeLinecap: "round", strokeLinejoin: "round",
            className: "w-8 h-8 text-teal-600 mb-2"
          }, React.createElement('path', { d: "M12 2L2 7l10 5 10-5-10-5z" }),
             React.createElement('path', { d: "m2 17 10 5 10-5" }),
             React.createElement('path', { d: "m2 12 10 5 10-5" }));
        }
        
        if (name.includes('עיקול')) {
          return React.createElement('svg', {
            xmlns: "http://www.w3.org/2000/svg",
            width: "24", height: "24", viewBox: "0 0 24 24",
            fill: "none", stroke: "currentColor", strokeWidth: "2",
            strokeLinecap: "round", strokeLinejoin: "round",
            className: "w-8 h-8 text-teal-600 mb-2"
          }, React.createElement('path', { d: "m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3" }),
             React.createElement('path', { d: "M12 9v4" }),
             React.createElement('path', { d: "M12 17h.01" }));
        }
        
        if (name.includes('עסק') || name.includes('עצמא')) {
          return React.createElement('svg', {
            xmlns: "http://www.w3.org/2000/svg",
            width: "24", height: "24", viewBox: "0 0 24 24",
            fill: "none", stroke: "currentColor", strokeWidth: "2",
            strokeLinecap: "round", strokeLinejoin: "round",
            className: "w-8 h-8 text-teal-600 mb-2"
          }, React.createElement('path', { d: "m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7" }),
             React.createElement('path', { d: "M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8" }),
             React.createElement('path', { d: "M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4" }),
             React.createElement('path', { d: "M2 7h20" }),
             React.createElement('path', { d: "M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2 2 0 0 1-2-2V7" }));
        }
        
        // Default icon for unknown categories
        return React.createElement('svg', {
          xmlns: "http://www.w3.org/2000/svg",
          width: "24", height: "24", viewBox: "0 0 24 24",
          fill: "none", stroke: "currentColor", strokeWidth: "2",
          strokeLinecap: "round", strokeLinejoin: "round",
          className: "w-8 h-8 text-teal-600 mb-2"
        }, React.createElement('circle', { cx: "12", cy: "12", r: "10" }),
           React.createElement('path', { d: "M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3" }),
           React.createElement('path', { d: "M12 17h.01" }));
      };
      
      // Main App Component
      const App = () => {
        const [benefits, setBenefits] = useState([]);
        const [categories, setCategories] = useState([]);
        const [selectedCategory, setSelectedCategory] = useState('');
        const [searchQuery, setSearchQuery] = useState('');
        const [showInfo, setShowInfo] = useState(false);
        const [searchSuggestion, setSearchSuggestion] = useState('');
        const [loading, setLoading] = useState(true);
        const [selectedBenefit, setSelectedBenefit] = useState(null);
        const [showModal, setShowModal] = useState(false);

        useEffect(() => {
          fetchCategories();
        }, []);

        useEffect(() => {
          fetchBenefits();
        }, [selectedCategory, searchQuery]);

        const fetchCategories = async () => {
          try {
            const response = await fetch('/api/categories');
            const data = await response.json();
            if (data.success) {
              setCategories(data.categories);
            }
          } catch (error) {
            console.error('Error fetching categories:', error);
          }
        };

        const fetchBenefits = async () => {
          setLoading(true);
          try {
            let url = '/api/benefits';
            const params = new URLSearchParams();
            
            if (selectedCategory) params.append('category', selectedCategory);
            if (searchQuery) params.append('q', searchQuery);
            
            if (params.toString()) {
              url = `/api/search?${params.toString()}`;
            }

            const response = await fetch(url);
            const data = await response.json();
            
            if (data.success) {
              setBenefits(data.data);
            }
          } catch (error) {
            console.error('Error fetching benefits:', error);
          } finally {
            setLoading(false);
          }
        };

        const fetchBenefitDetails = async (benefitId) => {
          try {
            const response = await fetch(`/api/benefits/${benefitId}`);
            const data = await response.json();
            if (data.success) {
              setSelectedBenefit(data.benefit);
              setShowModal(true);
            }
          } catch (error) {
            console.error('Error fetching benefit details:', error);
          }
        };

        const handleCategoryChange = (category) => {
          setSelectedCategory(category === selectedCategory ? '' : category);
          
          // Auto-scroll to the first benefit card after a short delay
          setTimeout(() => {
            const firstBenefitCard = document.querySelector('.benefits-grid .benefit-card');
            if (firstBenefitCard) {
              // Scroll to put the first benefit card at the top of the viewport
              firstBenefitCard.scrollIntoView({ 
                behavior: 'smooth', 
                block: 'start',
                inline: 'nearest'
              });
            } else {
              // Fallback: scroll to results header if no benefits found
              const resultsHeader = document.querySelector('.mobile-results-header');
              if (resultsHeader) {
                resultsHeader.scrollIntoView({ 
                  behavior: 'smooth', 
                  block: 'start',
                  inline: 'nearest'
                });
              }
            }
          }, 150);
        };

        // Fuzzy search function
        const calculateSimilarity = (str1, str2) => {
          const longer = str1.length > str2.length ? str1 : str2;
          const shorter = str1.length > str2.length ? str2 : str1;
          const editDistance = levenshteinDistance(longer, shorter);
          return (longer.length - editDistance) / longer.length;
        };
        
        const levenshteinDistance = (str1, str2) => {
          const matrix = [];
          for (let i = 0; i <= str2.length; i++) {
            matrix[i] = [i];
          }
          for (let j = 0; j <= str1.length; j++) {
            matrix[0][j] = j;
          }
          for (let i = 1; i <= str2.length; i++) {
            for (let j = 1; j <= str1.length; j++) {
              if (str2.charAt(i - 1) === str1.charAt(j - 1)) {
                matrix[i][j] = matrix[i - 1][j - 1];
              } else {
                matrix[i][j] = Math.min(
                  matrix[i - 1][j - 1] + 1,
                  matrix[i][j - 1] + 1,
                  matrix[i - 1][j] + 1
                );
              }
            }
          }
          return matrix[str2.length][str1.length];
        };

        const handleSearchChange = (query) => {
          setSearchQuery(query);
          
          // Check for smart suggestions if search results are low
          if (query.length > 2) {
            setTimeout(() => {
              const currentResults = benefits.filter(benefit => 
                benefit.organization.toLowerCase().includes(query.toLowerCase()) ||
                benefit.details.toLowerCase().includes(query.toLowerCase()) ||
                benefit.category.toLowerCase().includes(query.toLowerCase())
              );
              
              if (currentResults.length <= 2) {
                // Look for similar terms
                const commonTerms = [
                  'משרתי מילואים', 'משרת מילואים',
                  'בעלי עסקים', 'בעל עסק', 'עסקים', 'עסק',
                  'עצמאים', 'עצמאי', 'עצמאיות', 'עצמאית',
                  'מעסיקים', 'מעסיק',
                  'עובדים', 'עובד',
                  'נשים', 'אישה', 'אשה',
                  'הגיל השלישי', 'קשישים', 'זקנים', 'קשיש',
                  'נפגעי פעולות איבה', 'נפגעי איבה', 'נפגע איבה',
                  'נפגעי גוף', 'נפגע גוף', 'נפגעי נפש', 'נפגע נפש',
                  'אנשים פרטיים', 'אדם פרטי', 'פרטי',
                  'תקועים בחו״ל', 'תקוע בחו״ל', 'חו״ל',
                  'נפגע בית', 'נפגע הבית', 'בית נפגע',
                  'נפגע רכב', 'נפגע הרכב', 'רכב נפגע',
                  'נפגע עסק', 'נפגע העסק', 'עסק נפגע',
                  'ביטוח לאומי', 'לאומי',
                  'רשות המיסים', 'מס הכנסה', 'מיסים',
                  'משרד הבריאות', 'בריאות',
                  'משרד התחבורה', 'תחבורה',
                  'הלוואות', 'הלוואה',
                  'זכויות', 'זכות',
                  'רפואי', 'רפואה',
                  'בנקים', 'בנק',
                  'הקלות', 'הקלה',
                  'הטבות', 'הטבה',
                  'פיצויים', 'פיצוי',
                  'דיור חלופי', 'דיור',
                  'טיפול נפשי', 'טיפול',
                  'מוקד חירום', 'חירום',
                  'תביעות', 'תביעה',
                  'ילדים', 'ילד', 'ילדות',
                  'משפחות', 'משפחה',
                  'חירשים', 'חירש', 'כבדי שמיעה',
                  'עולים חדשים', 'עולה חדש', 'עולים',
                  'ימאים', 'ימאי'
                ];
                
                const suggestions = commonTerms.filter(term => {
                  const similarity = calculateSimilarity(query.toLowerCase(), term.toLowerCase());
                  // Also check if one term contains the other (for plural/singular cases)
                  const isContained = term.toLowerCase().includes(query.toLowerCase()) || 
                                    query.toLowerCase().includes(term.toLowerCase());
                  return (similarity > 0.5 || isContained) && term !== query && 
                         term.toLowerCase() !== query.toLowerCase();
                });
                
                if (suggestions.length > 0) {
                  // Sort suggestions by similarity score and choose the best one
                  const sortedSuggestions = suggestions.map(term => ({
                    term,
                    similarity: calculateSimilarity(query.toLowerCase(), term.toLowerCase())
                  })).sort((a, b) => b.similarity - a.similarity);
                  
                  setSearchSuggestion(sortedSuggestions[0].term);
                } else {
                  setSearchSuggestion('');
                }
              } else {
                setSearchSuggestion('');
              }
            }, 300);
          } else {
            setSearchSuggestion('');
          }
        };

        return React.createElement('div', {
          className: "mobile-container min-h-screen bg-slate-50"
        }, [
          // Header
          React.createElement('header', {
            className: "mobile-header",
            key: "header"
          }, [
            React.createElement('h1', {
              key: "title"
            }, "הקלות והטבות בעקבות מבצע עם כלביא"),
            React.createElement('p', {
              key: "subtitle"
            }, "מאגר הטבות והקלות לטובת הקהילה"),
            React.createElement('div', {
              key: "last-updated",
              className: "text-center mt-2 text-sm text-gray-600"
            }, "עודכן לאחרונה: 25/6 בשעה 01:00"),
            React.createElement('div', {
              key: "info-section",
              className: "mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg text-sm"
            }, [
              React.createElement('div', {
                key: "info-header",
                className: "flex items-center justify-between cursor-pointer",
                onClick: () => setShowInfo(!showInfo)
              }, [
                React.createElement('span', {
                  key: "info-text",
                  className: "font-medium text-blue-800"
                }, "ℹ️ מידע חשוב לגולש"),
                React.createElement('span', {
                  key: "info-toggle",
                  className: "text-blue-600"
                }, showInfo ? "▲" : "▼")
              ]),
              showInfo && React.createElement('div', {
                key: "info-content",
                className: "mt-3 text-blue-700 space-y-2"
              }, [
                React.createElement('p', {key: "p1"}, "• חפשו לפי קטגוריה או הקלידו מילות חיפוש"),
                React.createElement('p', {key: "p2"}, "• המידע מתעדכן באופן שוטף"),
                React.createElement('p', {key: "p3"}, "• לשאלות וצור קשר: מורן תסדר"),
                React.createElement('p', {key: "disclaimer", className: "font-medium"}, "⚠️ המידע כאן אינו מהווה ייעוץ משפטי או פיננסי")
              ])
            ])
          ]),

          // Search Section
          React.createElement('section', {
            className: "mobile-search",
            key: "search"
          }, [
            React.createElement('div', {
              className: "relative",
              key: "search-input"
            }, [
              React.createElement('input', {
                key: "input",
                type: "text",
                value: searchQuery,
                onChange: (e) => handleSearchChange(e.target.value),
                placeholder: "הקלידו כאן מה אתם מחפשים...",
                dir: "rtl"
              }),
              React.createElement('div', {
                key: "search-icon",
                className: "absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 text-xl pointer-events-none"
              }, "🔍"),
              searchQuery && React.createElement('button', {
                key: "clear",
                onClick: () => handleSearchChange(''),
                className: "absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 w-8 h-8 flex items-center justify-center"
              }, "✕")
            ]),
            searchSuggestion && React.createElement('div', {
              key: "suggestion",
              className: "mt-2 p-3 bg-yellow-50 border border-yellow-200 rounded-lg"
            }, [
              React.createElement('p', {
                key: "suggestion-text",
                className: "text-sm text-yellow-800"
              }, [
                "💡 האם התכוונת ל: ",
                React.createElement('button', {
                  key: "suggestion-link",
                  onClick: () => handleSearchChange(searchSuggestion),
                  className: "font-medium text-yellow-900 underline hover:text-yellow-700"
                }, `"${searchSuggestion}"`)
              ])
            ])
          ]),

          // Categories Section
          React.createElement('section', {
            className: "mobile-categories",
            key: "categories"
          }, [
            React.createElement('h2', {
              key: "title"
            }, "קטגוריות"),
            React.createElement('div', {
              className: "categories-grid",
              key: "grid"
            }, [
              // All button
              React.createElement('button', {
                key: "all",
                onClick: () => handleCategoryChange(''),
                className: `category-btn ${
                  selectedCategory === '' ? 'active' : ''
                }`
              }, [
                getCategoryIcon('הכל'),
                React.createElement('span', {
                  className: "category-text",
                  key: "text"
                }, "הכל")
              ]),
              // Category buttons
              ...categories.map((category) =>
                React.createElement('button', {
                  key: category.name,
                  onClick: () => handleCategoryChange(category.name),
                  className: `category-btn ${
                    selectedCategory === category.name ? 'active' : ''
                  }`
                }, [
                  getCategoryIcon(category.name),
                  React.createElement('span', {
                    className: "category-text",
                    key: "text"
                  }, category.name)
                ])
              )
            ])
          ]),

          // Results Section
          React.createElement('main', {
            className: "mobile-results",
            key: "main"
          }, [
            // Results Header
            React.createElement('div', {
              className: "mobile-results-header",
              key: "header"
            }, [
              React.createElement('h2', {
                className: "mobile-results-title",
                key: "title"
              }, searchQuery ? `תוצאות חיפוש עבור "${searchQuery}"` :
                 selectedCategory ? `הטבות בקטגוריה "${selectedCategory}"` :
                 'כל ההטבות'),
              !loading && React.createElement('div', {
                className: "mobile-results-count",
                key: "count"
              }, `${benefits.length} תוצאות`)
            ]),

            // Loading State
            loading ? React.createElement('div', {
              className: "flex justify-center items-center py-20",
              key: "loading"
            }, [
              React.createElement('div', {
                className: "calm-loading rounded-full h-12 w-12 border-4 border-calm-blue border-t-transparent",
                key: "spinner"
              }),
              React.createElement('span', {
                className: "mr-4 text-lg text-gray-600",
                key: "text"
              }, "טוען...")
            ]) :
            
            // Benefits Grid
            benefits.length > 0 ? React.createElement('div', {
              className: "benefits-grid",
              key: "grid"
            }, benefits.map((benefit) =>
              React.createElement('div', {
                key: benefit.id,
                className: "clean-card benefit-card"
              }, [
                React.createElement('h3', {
                  className: "benefit-title",
                  key: "title"
                }, benefit.organization),
                React.createElement('div', {
                  className: "benefit-tags",
                  key: "categories"
                }, [
                  benefit.category && React.createElement('span', {
                    key: "category",
                    className: "benefit-tag"
                  }, benefit.category),
                  benefit.subcategory && React.createElement('span', {
                    key: "subcategory",
                    className: "benefit-tag"
                  }, benefit.subcategory)
                ]),
                React.createElement('p', {
                  className: "benefit-description",
                  key: "details"
                }, benefit.detailsTruncated),
                React.createElement('div', {
                  className: "flex flex-col gap-3",
                  key: "actions"
                }, [
                  benefit.hasMoreDetails && React.createElement('button', {
                    key: "readmore",
                    onClick: () => fetchBenefitDetails(benefit.id),
                    className: "benefit-action"
                  }, "קרא עוד"),
                  benefit.detailsLink && React.createElement('a', {
                    key: "link",
                    href: benefit.detailsLink,
                    target: "_blank",
                    rel: "noopener noreferrer",
                    className: "benefit-action bg-slate-800 hover:bg-slate-900 text-center block"
                  }, "מעבר לשירות")
                ])
              ])
            )) :
            
            // Empty State
            React.createElement('div', {
              className: "mobile-empty",
              key: "empty"
            }, [
              React.createElement('div', {
                className: "mobile-empty-icon",
                key: "icon"
              }, "🔍"),
              React.createElement('h3', {
                className: "mobile-empty-title",
                key: "title"
              }, "לא נמצאו תוצאות"),
              React.createElement('p', {
                className: "mobile-empty-text",
                key: "subtitle"
              }, "נסו לשנות את מילות החיפוש או את הקטגוריה שנבחרה")
            ])
          ]),

          // Modal
          showModal && selectedBenefit && React.createElement('div', {
            key: "modal",
            className: "mobile-modal",
            onClick: (e) => e.target === e.currentTarget && setShowModal(false)
          }, React.createElement('div', {
            className: "mobile-modal-content"
          }, [
            React.createElement('div', {
              className: "mobile-modal-header",
              key: "header"
            }, [
              React.createElement('h2', {
                className: "mobile-modal-title",
                key: "title"
              }, selectedBenefit.organization),
              React.createElement('button', {
                key: "close",
                onClick: () => setShowModal(false),
                className: "mobile-modal-close"
              }, "×")
            ]),
            React.createElement('div', {
              className: "mobile-modal-body",
              key: "content"
            }, [
              React.createElement('h3', {
                className: "benefit-title mb-3",
                key: "title"
              }, "פרטים מלאים"),
              React.createElement('div', {
                className: "benefit-description",
                key: "details"
              }, selectedBenefit.details)
            ])
          ]))
        ]);
      };

      // Render the app
      ReactDOM.render(React.createElement(App), document.getElementById('root'));
    </script>

    <!-- Interactive Credits Section -->
    <div id="credits-container">
        <!-- Enhanced Floating Action Button (FAB) -->
        <button id="credits-fab" class="mobile-fab pulse-heartbeat">
            <span>❤️</span>
        </button>

        <!-- Slide-up Credits Panel (hidden by default) -->
        <div id="credits-panel" class="fixed bottom-0 left-0 right-0 bg-white p-4 sm:p-6 rounded-t-2xl shadow-2xl z-50 transform translate-y-full transition-transform duration-300 ease-in-out">
            <!-- Panel Header with Close Button -->
            <div class="flex justify-between items-center mb-3 sm:mb-4">
                <h3 class="text-lg sm:text-xl font-bold text-slate-800">היוצרים של המיזם</h3>
                <button id="credits-panel-close" class="text-xl sm:text-2xl text-slate-500 hover:text-slate-800 w-8 h-8 flex items-center justify-center">&times;</button>
            </div>
            
            <!-- Panel Content -->
            <div class="text-center text-slate-600">
                <p class="font-semibold text-base sm:text-lg leading-tight">מאגר המידע נבנה ומתעדכן על ידי <span class="font-bold text-teal-700">מורן תסדר</span>.</p>
                <div class="flex flex-col sm:flex-row justify-center gap-2 sm:gap-4 my-3 flex-wrap">
                    <a href="https://www.facebook.com/groups/morantsader/" target="_blank" class="text-teal-600 hover:underline text-sm sm:text-base py-2 sm:py-0">הפוסט המקורי בפייסבוק</a>
                    <a href="https://wa.me/972524244298" target="_blank" class="text-teal-600 hover:underline text-sm sm:text-base py-2 sm:py-0">ליצירת קשר בווטסאפ</a>
                    <a href="https://t.me/haravotbe" target="_blank" class="text-teal-600 hover:underline text-sm sm:text-base py-2 sm:py-0">עדכוני בירוקרטיות בשעת חירום 🇮🇱</a>
                </div>
                <hr class="my-3 sm:my-4">
                <p class="text-sm sm:text-base">אתר זה פותח על ידי <a href="https://www.linkedin.com/in/assafakiva" target="_blank" class="font-bold text-teal-700 hover:underline">אסף עקיבא</a>.</p>
                <div class="mt-2">
                    <a href="https://chat.whatsapp.com/KHgfY00R4fjEzDvAgARE6z" target="_blank" class="text-teal-600 hover:underline text-sm sm:text-base py-2 inline-block">כה אמר הצ'אט 💬</a>
                </div>
            </div>
        </div>

        <!-- Backdrop (for dismissing the panel) -->
        <div id="credits-backdrop" class="fixed inset-0 bg-black bg-opacity-40 z-40 hidden"></div>
    </div>

    <script>
        // Get references to the new elements
        const creditsFab = document.getElementById('credits-fab');
        const creditsPanel = document.getElementById('credits-panel');
        const creditsPanelClose = document.getElementById('credits-panel-close');
        const creditsBackdrop = document.getElementById('credits-backdrop');

        // Function to open the panel
        function openCreditsPanel() {
            creditsBackdrop.classList.remove('hidden');
            // The 'translate-y-0' class moves the panel to its final, visible position
            creditsPanel.classList.remove('translate-y-full');
            creditsPanel.classList.add('translate-y-0');
        }

        // Function to close the panel
        function closeCreditsPanel() {
            creditsBackdrop.classList.add('hidden');
            // The 'translate-y-full' class hides the panel again
            creditsPanel.classList.add('translate-y-full');
            creditsPanel.classList.remove('translate-y-0');
        }

        // Attach event listeners
        creditsFab.addEventListener('click', openCreditsPanel);
        creditsPanelClose.addEventListener('click', closeCreditsPanel);
        creditsBackdrop.addEventListener('click', closeCreditsPanel);
    </script>
  </body>
</html>